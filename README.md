## weewa_buildroot

weewa基于rockchip buildroot的相关定制文件, 方便编译支持不同硬件版本的固件. 由于目前要支持的硬件有334/586/678三种, 经过试验发现没法同时兼容, 因此创建该项目简化打包固件流程

## 前置准备

* 先确认weewa的工程已经在`buildroot/external`下做了符号链接, 这一步一般大家都做过了, 就先不介绍了. 脚本会检查这些链接是否存在, 不存在会有提示
* 还有确认weewa的包描述文件在`buildroot/package/rockchip`下面也做了符号链接, 这一步一般大家都做过了, 就先不介绍了. 脚本会检查这些链接是否存在, 不存在会有提示
* 回到`buildroot`根目录下, clone出这个工程`git clone git@github.com:ztwireless/weewa_buildroot.git`

## 打包 

* 执行weewa_buildroot里面的build.sh就可以进行自动打包了, 这个脚本支持以下参数:
	1. `--586`: 表示打一个支持imx586的包(不支持334/678), 如果不写, 则打出的包是支持334/678的
	2. `--full`: 表示打一个完整包, 如果不写, 就是打一个增量包
	3. `--clean`: 表示打包之前重新编译所有依赖, 一般不需要这个, 因为重新编译所有非常慢, 所以一般只有第一次打包的时候需要
	4. `--adb`: 表示打出来的包会支持相机开机后自动开启`adb`, 测试的时候需要这个, 不然刷机之后不太方便用adb连接相机. 这个标志应该需要和`--full`同时使用, 我没测过, 估计是这样, 因为增量包估计不会更新这部分内容.